syntax = "proto3";

package delivery;
option go_package = "project/api/proto/deliverypb";

message GeoPoint {
    double lat = 1;
    double lng = 2;
}

message AcceptDeliveryRequest {
    string order_id = 1;
    string courier_id = 2;
}

message AcceptDeliveryResponse {
    bool ok = 1;
}

message UpdateLocationRequest {
    string courier_id = 1;
    GeoPoint location = 2;
}

message UpdateLocationResponse {
    bool ok = 1;
}

message GetStatusRequest {
    string order_id = 1;
}

message GetStatusResponse {
    string order_id = 1;
    string courier_id = 2;
    string status = 3;
    GeoPoint location = 4;
}

service DeliveryService {
    rpc AcceptDelivery(AcceptDeliveryRequest) returns (AcceptDeliveryResponse);
    rpc UpdateLocation(UpdateLocationRequest) returns (UpdateLocationResponse);
    rpc GetStatus(GetStatusRequest) returns (GetStatusResponse);
}